# School Management System
The project is intended to develop into full scale school management system. It will digitalized all the activities in school system, aim at reduce of manual labour and make record easy to access.
## Technology
- SQLAlchemy ORM
- Python
- MySQL

### Python Packages
- SQLAlchemy
- Faker
- Flask
- Flask-login
- Flask-CORS
- Flassger
- Hashlib

# Setup
***Install the dependency***

    pip install -r requirements.txt
***Create database and user***

This will drop the `school_db` and `test_db` if exist

    cat setups/db_setup.sql | mysql -uroot -p

***Create tables in the school_db database***

    DATABASE=school_db python manage.py

***Create two teacher with admin privileges***

    DATABASE=school_db python -m setups.admin

All the above steps can be achieve wtih a sign command

    DATABASE=school_db python -m setups.initializedb


## Development Stage
### Setup

***Create tables in the test_db database***

    DATABASE=test_db python manage.py
***Populate the test_db tables with fake data***

    DATABASE=test_db python -m setups.scripts

# API
Use the admin generate the setup stage to create new admin and delete the admin generated by the setup script.

The API requres authentication to access the API except  `/api/v1/portal/auth_session/login` to login and get cookie with which to make subsequent require to other routes in the API.

***Run the API***

    SESSION_NAME=id SESSION_DURATION=360 python3 -m api.v1.app

***Login into the API***

    curl http://127.0.0.1:5001/api/portal/auth_session/login -d "email=superadmin@school.com" -d "password=superadmin" -v

***Output***

    $ curl http://127.0.0.1:5001/api/portal/auth_session/login -d "email=superadmin@school.com" -d "password=superadmin" -v
    Trying 127.0.0.1:5001...
    Connected to 127.0.0.1 (127.0.0.1) port 5001
    > POST /api/portal/auth_session/login HTTP/1.1
    > Host: 127.0.0.1:5001
    > User-Agent: curl/8.4.0
    > Accept: */*
    > Content-Length: 47
    > Content-Type: application/x-www-form-urlencoded
    >
    < HTTP/1.1 201 CREATED
    < Server: Werkzeug/3.0.4 Python/3.12.7
    < Date: Wed, 30 Oct 2024 15:50:23 GMT
    < Content-Type: application/json
    < Content-Length: 352
    < Set-Cookie: id=2e1f5719-c8c7-476b-92e0-a6dd074d329e; Path=/
    < Access-Control-Allow-Origin: 0.0.0.0
    < Connection: close
    <
    {
    "address": null,
    "created_at": "2024-10-30T08:49:34",
    "dob": "2024-10-30",
    "email": "superadmin@school.com",
    "firstName": "Kimberly",
    "gender": null,
    "id": "9b659be2-5202-4f40-8eb0-76877e2d132b",
    "lastName": "Moss",
    "middleName": "Ashley",
    "phone_number": null,
    "updated_at": "2024-10-30T15:49:34",
    "username": "superadmin"
    }
    * Closing connection
***Get parents***

    curl http://127.0.0.1:5001/api/portal/parents --cookie "id=2e1f5719-c8c7-476b-92e0-a6dd074d329e"

## Production Stage
the project is still in Development Stage

## Author
- Moses Solomon Ayofemi <solomonayofemi@gmail.com>
